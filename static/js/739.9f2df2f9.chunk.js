"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[739],{6739:function(e,n,t){t.r(n),t.d(n,{default:function(){return P}});var a,r,i,s=t(885),o=t(5264),c=t(2791),l=t(9457),u=t(7208),d=t(6128),f=t(7205),m=t(5243),x=t(184),p=function(){return(0,x.jsx)(l.x,{position:"absolute",top:"50%",left:"47%",children:(0,x.jsx)(m.VF,{height:"100",width:"100",color:"#3f51b5",secondaryColor:"#3f51b5",radius:"12.5",ariaLabel:"mutating-dots-loading",wrapperStyle:{},wrapperClass:"",visible:!0})})},h=function(){var e=(0,u.Lr)(),n=(0,s.Z)(e,2),t=n[0],a=n[1],r=a.isLoading,i=a.isSuccess,m=(0,u.wY)().data,h=(0,c.useState)(""),b=(0,s.Z)(h,2),g=b[0],j=b[1],v=(0,c.useState)(""),w=(0,s.Z)(v,2),C=w[0],y=w[1],Z=function(e){var n=e.target,t=n.name,a=n.value;switch(t){case"name":j(a);break;case"number":y(a);break;default:return}},L=function(){j(""),y("")};return(0,c.useEffect)((function(){i&&o.Notify.success("Contact was created.")}),[i]),(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(l.x,{as:"form",onSubmit:function(e){e.preventDefault(),function(e){var n=e.name,a=e.number;m.some((function(e){return e.name.toLocaleLowerCase()===n.toLocaleLowerCase()}))?o.Notify.failure("".concat(n," is already in contacts")):t({name:n,number:a})&&L()}({name:g,number:C})},display:"flex",flexDirection:"column",p:4,alignItems:"center",children:[(0,x.jsx)(d.Z,{margin:"normal",label:"Contact's name",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",variant:"standard",type:"name",name:"name",value:g,onChange:Z,required:!0}),(0,x.jsx)(d.Z,{margin:"normal",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",label:"Contact's number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",variant:"standard",type:"tel",name:"number",value:C,onChange:Z,required:!0}),(0,x.jsx)(f.Z,{variant:"contained",type:"submit",children:"Add contact"}),r&&(0,x.jsx)(p,{})]})})},b=t(1413),g=t(5048),j=function(e){return e.filter},v=t(168),w=t(7691),C=w.ZP.ul(a||(a=(0,v.Z)(["\n    display: flex;\n    align-items: center;\n    flex-wrap: wrap;\n    margin-top: -5px;\n    margin-left: -5px;\n"]))),y=w.ZP.li(r||(r=(0,v.Z)(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    border: 1px solid #1976d2;\n    border-radius: 4px;\n    flex-basis: calc((100% - 10px) / 4);\n    padding: ","px;\n    margin-top: 10px;\n    margin-left: 10px;\n"])),(function(e){return e.theme.space[4]})),Z=t(5562),L=function(e){var n=e.id,t=e.name,a=e.number,r=(0,u.Nt)(),i=(0,s.Z)(r,2),o=i[0],l=i[1],d=l.isLoading,m=l.isSuccess;return(0,c.useEffect)((function(){m&&Z.Notify.failure("Contact was removed.")}),[m]),(0,x.jsxs)(y,{children:[(0,x.jsxs)("p",{children:[t,": ",a]}),(0,x.jsx)(f.Z,{variant:"outlined",color:"error",onClick:function(){o(n)},disabled:d,children:d?(0,x.jsx)("span",{children:"Removing"}):(0,x.jsx)("span",{children:"Remove"})})]})},k=function(){var e=(0,g.v9)(j),n=(0,u.wY)(),t=n.data,a=n.isLoading,r=n.error,i=n.refetch;console.log(t),(0,c.useEffect)((function(){i()}),[i]);var s=function(e,n){if(!e)return n;var t=e.toLocaleLowerCase();return n.filter((function(e){return e.name.toLocaleLowerCase().includes(t)}))}(e,t);return(0,x.jsx)(l.x,{pl:6,pr:6,children:(0,x.jsx)(C,{children:!a&&!r&&s.map((function(e){return(0,x.jsx)(L,(0,b.Z)({},e),e.id)}))})})},_=t(1273),S=function(){var e=(0,g.I0)(),n=(0,g.v9)(j);return(0,x.jsx)(l.x,{display:"flex",flexDirection:"column",p:4,alignItems:"center",children:(0,x.jsx)("label",{children:(0,x.jsx)(d.Z,{id:"filled-basic",label:"Find contacts by name",variant:"filled",type:"text",name:"filter",value:n,onChange:function(n){e((0,_.T)(n.target.value))}})})})},F=w.ZP.h2(i||(i=(0,v.Z)(["\n    font-size: ",";\n    text-align: center;\n    margin-top: ","px;\n    margin-left: ","px;\n"])),(function(e){return e.theme.fontSizes.l}),(function(e){return e.theme.space[5]}),(function(e){return e.theme.space[5]})),N=function(e){var n=e.text;return(0,x.jsx)(F,{children:n})},P=function(){return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(l.x,{children:[(0,x.jsx)(N,{text:"Phonebook"}),(0,x.jsx)(h,{}),(0,x.jsx)(N,{text:"Contacts"}),(0,x.jsx)(S,{}),(0,x.jsx)(k,{})]})})}}}]);
//# sourceMappingURL=739.9f2df2f9.chunk.js.map